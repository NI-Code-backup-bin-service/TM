CREATE PROCEDURE `AddDCCContactlessToMID`(IN mid TEXT) BEGIN SET @pid := (SELECT profile_id FROM profile_data WHERE data_element_id = (SELECT data_element_id FROM data_element WHERE name = "merchantNo") AND datavalue = mid); INSERT INTO profile_data (profile_id, data_element_id, datavalue, version, updated_at, updated_by, created_at, created_by, approved, overriden, is_encrypted) VALUES (@pid, (SELECT data_element_id FROM data_element WHERE name = 'dccContactless' AND data_group_id = (SELECT data_group_id FROM data_group WHERE name = 'modules')), 'true', 1, NOW(), 'NISuper', NOW(), 'NISuper', 1, 1, 0) ON DUPLICATE KEY UPDATE datavalue=VALUES(datavalue), updated_at = VALUES(updated_at); END
CALL AddDCCContactlessToMID("MID001");
DROP PROCEDURE IF EXISTS AddDCCContactlessToMID;